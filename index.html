<!DOCTYPE html>
<html>

<head>
    <!--Libraries -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css"
        integrity="sha512-SzlrxWUlpfuzQ+pcUCosxcglQRNAq/DZjVsC0lE40xsADsfeQoEypE+enwcOiGjk/bSuGGKHEyjSoQ1zVisanQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/lodash@4.17.20/lodash.min.js" type="text/JavaScript"></script>
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/highcharts-3d.js"></script>
    <script src="https://code.highcharts.com/modules/mouse-wheel-zoom.js"></script>
    <script src="https://cdn.datatables.net/1.13.2/css/dataTables.bootstrap5.min.css"></script>
    <script src="https://cdn.datatables.net/1.13.2/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.2/js/dataTables.bootstrap5.min.js"></script>

    <!-- Custom -->
    <link rel="stylesheet" href="./css/custom.css">
    <!-- Classes -->
    <script src="./src/Util.js"></script>
    <script src="./src/classes/DieFace.js"></script>
    <script src="./src/classes/Modifiers.js"></script>
    <script src="./src/classes/Die.js"></script>
    <script src="./src/classes/DiceTypes/Proficiency.js"></script>
    <script src="./src/classes/DiceTypes/Ability.js"></script>
    <script src="./src/classes/DiceTypes/Boost.js"></script>
    <script src="./src/classes/DiceTypes/Challenge.js"></script>
    <script src="./src/classes/DiceTypes/Difficulty.js"></script>
    <script src="./src/classes/DiceTypes/Setback.js"></script>
    <script src="./src/classes/Dice.js"></script>
    <script src="./src/classes/DicePool.js"></script>
    <script src="./src/classes/DiceTrial.js"></script>
    <!-- Sections -->
    <script src="./src/components/Sections/SectionController.js"></script>
    <link rel="stylesheet" href="./src/components/Sections/Sections.css">
    <!-- Subsections -->
    <script src="./src/components/Sections/Subsections/Subsections.js"></script>
    <link rel="stylesheet" href="./src/components/Sections/Subsections/Subsection.css">
    <!--Spinner-->
    <script src="./src/components/Spinner/SpinnerController.js"></script>
    <link rel="stylesheet" href="./src/components/Spinner/Spinner.css">
    <!-- Dice Pool Input-->
    <script src="./src/components/Sections/DicePool/Input/SymbolInputController.js"></script>
    <!-- <link rel="stylesheet" href="./src/components/DicePool/Input/DicePoolInput.css"> -->
    <!-- Dice Pool -->
    <script src="./src/components/Sections/DicePool/DicePoolController.js"></script>
    <!-- <link rel="stylesheet" href="./src/components/DicePool/DicePool.css"> -->

    <script src="./src/Tests.js"></script>
    <script src="./src/Main.js"></script>
    <script src="./src/components/SiteController.js"></script>
</head>

<body class="bg-dark">
    <div id="spinner-overlay" style="display: none;">
        <div id="spinner-sprite" style="display: none;"></div>
    </div>
    <!--Main Container-->
    <div class="container-fluid bg-dark" style="width:70%; overflow: auto;">
        <!--Header-->
        <div class="section box">
            <div id="heading-wrapper" class="d-flex justify-content-center">
                <div class="section-box">
                    <div class="display-4 text-center text-light">
                        DICE TRIALS
                    </div>
                    <div class="h3 text-center text-light">
                        <i>A Monte Carlo simulator for Star Wars FFG & Gensys dice systems</i>
                    </div>
                    <div id="dice-icon-strip">
                        <img id="icon-strip-blank" src="/images/blank.png">
                    </dfiv>
                    
                </div>
            </div>
        </div>
        <div id="wrapper" class="d-flex justify-content-center">
            <div id="section-container" class="section-box"></div>
        </div>
        <div class="section-box" id="dicepool-box">
            <!--Dice Pool & Trials-->
            <button id="dicepool-btn" class="section-btn">Dice Pool â–¼</button>
            <!-- DICEPOOL -->
            <div id="dicepool" class="section-container">
                <div class="row pt-2">
                    <!-- Proficiency -->
                    <div class="col col-2 text-center">
                        <img src="./images/proficiency.png" class="img-fluid" alt="proficiency icon" style="height:30%">
                        <div class="d-flex justify-content-center">
                            <div class="form-outline" style="width:60%;">
                                <input type="number" id="proficiency-input" class="form-control text-right h3" value="0"
                                    min="0" data-toggle="tooltip" data-placement="top"
                                    title="The number of Proficiency dice in the pool." />
                            </div>
                        </div>
                        <h3 id="proficiency-label" class="">Proficiency </h3>
                    </div>
                    <!-- Ability -->
                    <div class="col col-2 text-center">
                        <img src="./images/ability.png" class="img-fluid" alt="ability icon" style="height:30%">
                        <div class="d-flex justify-content-center">
                            <div class="form-outline" style="width:60%;">
                                <input type="number" id="ability-input" class="form-control text-right h3" value="0"
                                    min="0" data-toggle="tooltip" data-placement="top"
                                    title="The number of Ability dice in the pool." />
                            </div>
                        </div>
                        <h3 id="ability-label" class="">Ability </h3>
                    </div>
                    <!-- Boost -->
                    <div class="col col-2 text-center">
                        <img src="./images/boost.png" class="img-fluid" alt="boost icon" style="height:30%">
                        <div class="d-flex justify-content-center">
                            <div class="form-outline" style="width:60%;">
                                <input type="number" id="boost-input" class="form-control text-right h3" value="0"
                                    min="0" data-toggle="tooltip" data-placement="top"
                                    title="The number of Boost dice in the pool." />
                            </div>
                        </div>
                        <h3 id="boost-label" class="">Boost </h3>
                    </div>
                    <!-- Challenge -->
                    <div class="col col-2 text-center">
                        <img src="./images/challenge.png" class="img-fluid" alt="challenge icon" style="height:30%">
                        <div class="d-flex justify-content-center">
                            <div class="form-outline" style="width:60%;">
                                <input type="number" id="challenge-input" class="form-control text-right h3" value="0"
                                    min="0" data-toggle="tooltip" data-placement="top"
                                    title="The number of Challenge dice in the pool." />
                            </div>
                        </div>
                        <h3 id="challenge-label" class="">Challenge </h3>
                    </div>
                    <!-- Difficulty -->
                    <div class="col col-2 text-center">
                        <img src="./images/difficulty.png" class="img-fluid" alt="difficulty icon" style="height:30%">
                        <div class="d-flex justify-content-center">
                            <div class="form-outline" style="width:60%;">
                                <input type="number" id="difficulty-input" class="form-control text-right h3" value="0"
                                    min="0" data-toggle="tooltip" data-placement="top"
                                    title="The number of Difficulty dice in the pool." />
                            </div>
                        </div>
                        <h3 id="difficulty-label" class="">Difficulty </h3>
                    </div>
                    <!-- Setback -->
                    <div class="col col-2 text-center">
                        <img src="./images/setback.png" class="img-fluid" alt="setback icon" style="height:30%">
                        <div class="d-flex justify-content-center">
                            <div class="form-outline" style="width:60%;">
                                <input type="number" id="setback-input" class="form-control text-right h3" value="0"
                                    min="0" data-toggle="tooltip" data-placement="top"
                                    title="The number of Setback dice in the pool." />
                            </div>
                        </div>
                        <h3 id="setback-label" class="">Setback </h3>
                    </div>
                </div><!-- Modifiers -->
                <div class="row">
                    <!-- Success -->
                    <div class="col col-2 text-center">
                        <img src="./images/success-light.png" class="img-fluid" alt="success icon" style="height:30%">
                        <div class="d-flex justify-content-center">
                            <div class="form-outline" style="width:60%;">
                                <input type="number" id="success-input" class="form-control text-right h3" value="0"
                                    min="0" data-toggle="tooltip" data-placement="top"
                                    title="The number of Success bonuses in the pool." />
                            </div>
                        </div>
                        <h3 id="success-label" class="">Success </h3>
                    </div>
                    <!-- Advantage -->
                    <div class="col col-2 text-center">
                        <img src="./images/advantage-light.png" class="img-fluid" alt="advantage icon"
                            style="height:30%">
                        <div class="d-flex justify-content-center">
                            <div class="form-outline" style="width:60%;">
                                <input type="number" id="advantage-input" class="form-control text-right h3" value="0"
                                    min="0" data-toggle="tooltip" data-placement="top"
                                    title="The number of Advantage bonuses in the pool." />
                            </div>
                        </div>
                        <h3 id="advantage-label" class="">Advantage </h3>
                    </div>
                    <!-- Triumph -->
                    <div class="col col-2 text-center">
                        <img src="./images/triumph-light.png" class="img-fluid" alt="triumph icon" style="height:30%">
                        <div class="d-flex justify-content-center">
                            <div class="form-outline" style="width:60%;">
                                <input type="number" id="triumph-input" class="form-control text-right h3" value="0"
                                    min="0" data-toggle="tooltip" data-placement="top"
                                    title="The number of Triumph bonuses in the pool." />
                            </div>
                        </div>
                        <h3 id="triumph-label" class="">Triumph </h3>
                    </div>
                    <!-- Failure -->
                    <div class="col col-2 text-center">
                        <img src="./images/failure-light.png" class="img-fluid" alt="failure icon" style="height:30%">
                        <div class="d-flex justify-content-center">
                            <div class="form-outline" style="width:60%;">
                                <input type="number" id="failure-input" class="form-control text-right h3" value="0"
                                    min="0" data-toggle="tooltip" data-placement="top"
                                    title="The number of Failure bonuses in the pool." />
                            </div>
                        </div>
                        <h3 id="failure-label" class="">Failure </h3>
                    </div>
                    <!-- Threat -->
                    <div class="col col-2 text-center">
                        <img src="./images/threat-light.png" class="img-fluid" alt="threat icon" style="height:30%">
                        <div class="d-flex justify-content-center">
                            <div class="form-outline" style="width:60%;">
                                <input type="number" id="threat-input" class="form-control text-right h3" value="0"
                                    min="0" data-toggle="tooltip" data-placement="top"
                                    title="The number of Threat bonuses in the pool." />
                            </div>
                        </div>
                        <h3 id="threat-label" class="">Threat </h3>
                    </div>
                    <!-- Despair -->
                    <div class="col col-2 text-center">
                        <img src="./images/despair-light.png" class="img-fluid" alt="despair icon" style="height:30%">
                        <div class="d-flex justify-content-center">
                            <div class="form-outline" style="width:60%;">
                                <input type="number" id="despair-input" class="form-control text-right h3" value="0"
                                    min="0" data-toggle="tooltip" data-placement="top"
                                    title="The number of Despair bonuses in the pool." />
                            </div>
                        </div>
                        <h3 id="despair-label" class="">Despair </h3>
                    </div>
                </div>
                <!--Trials-->
                <div class="container-fluid">
                    <!-- Number of Rolls & Run Trials -->
                    <div class="d-flex justify-content-center row">
                        <div id="total-roll-combos" class="text-center" data-toggle="tooltip" data-placement="top"
                            title="This represents the total number of distinct arrangements of the dice pool.">Total
                            Distinct Rolls:
                            0</div>
                        <div class="form-outline input-group" style="width:40%">
                            <div class="input-group-prepend">
                                <span class="input-group-text" style="border-radius: 10px 0 0 10px;">Number of
                                    Rolls:</span>
                            </div>
                            <input type="number" id="roll-number-input" class="form-control text-center h3"
                                value="1000000" min="0" />
                            <div class="input-group-append">
                                <button id="run-trials" class="myButton btn btn-success" type="button"
                                    data-toggle="tooltip" data-placement="top" title="Start the calculation."
                                    style="border-radius: 0 10px 10px 0;">Roll <i
                                        class="fa-solid fa-caret-right"></i></button>
                            </div>
                        </div>
                        <div class="h6 text-center text-secondary"><i>Recommended Number of Rolls: 1,000,000</i></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="section-box" id="summary-box">
            <!--Summary Collapser-->
            <div style="width:100%;">
                <button id="summary-btn" class="section-btn disabled">Summary</i></button>
            </div>
            <!--Summary-->
            <div id="summary" class="bg-dark text-light "
                style="width:100%; border-radius: 5px 5px 10px 10px; box-shadow: 0px 0px 5px 1px black">
                <!--Icon Strip-->
                <div class="d-flex justify-content-center mb-2 mt-2">
                    <div id="dice-icon-strip"></div>
                </div>
                <!--Roll Count-->
                <div class="d-flex justify-content-center">
                    <div id="roll-count-label" class="h4 text-center" style="width: 90%;"></div>
                </div>
                <!--Trial Summary-->
                <div class="d-flex justify-content-center p-3">
                    <div class="container row" style="width: 90%; max-height: 10%;">
                        <!--Successes/Failures-->
                        <div id="success-summary-box" class="col p-4">
                            <div class="row align-items-center">
                                <div id="trial-summary-success-label-icon" class="col-3 justify-content-center"></div>
                                <div id="trial-summary-success-count" class="col display-4"></div>
                            </div>
                            <div class="row d-flex justify-content-center">
                                <div id="trial-summary-success-label-text" class="col-6 display-4" style="width: 100%;">
                                </div>
                            </div>
                        </div>
                        <!--Advantages/Threats-->
                        <div id="advantage-summary-box" class="col p-4">
                            <div class="row align-items-center text-right">
                                <div id="trial-summary-advantage-label-icon" class="col-3 justify-content-center"></div>
                                <div id="trial-summary-advantage-count" class="col display-4"></div>
                            </div>
                            <div class="row d-flex justify-content-center">
                                <div id="trial-summary-advantage-label-text" class="col-6 display-4"
                                    style="width: 100%;"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <!--Run Time-->
                <div class="d-flex justify-content-center text-center">
                    <div id="run-time" class="text-secondary" style="width: 90%;"></div>
                </div>
            </div>
        </div>
        <div class="section-box" id="charts-box">
            <div style="width:100%;">
                <button id="charts-btn" class="section-btn disabled">Charts</i></button>
            </div>
            <!--Charts-->
            <div id="charts" class="bg-dark text-light p-2"
                style="border-radius: 5px 5px 10px 10px; box-shadow: 0px 0px 5px 1px black">
                <!--Chart Tabs-->
                <div class="row">
            <span class="col-2">
                <button id="netPercent-chart-btn" class="btn btn-success border-bottom-0 text-right mb-0 pb-0" style="width: 100%; border-radius: 10px 10px 0px 0px; position: relative; top: 1px; z-index: 2; opacity: 1 !important;">
                    <b>Net %</b>
                </button>
            </span>
            <span class="col-2">
                <button id="totalPercent-chart-btn" class="btn btn-success border-bottom-0 text-right mb-0 pb-0" style="width: 100%; border-radius: 10px 10px 0px 0px; position: relative; top: 1px; z-index: 2; opacity: 1 !important;">
                    <b>Total %</b>
                </button>
            </span>
            <span class="col-2">
                <button id="net-chart-btn" class="btn btn-success border-bottom-0 text-right mb-0 pb-0" style="width: 100%; border-radius: 10px 10px 0px 0px; position: relative; top: 1px; z-index: 2; opacity: 1 !important;">
                    <b>Net</b>
                </button>
            </span>
            <span class="col-2">
                <button id="total-chart-btn" class="btn btn-success border-bottom-0 text-right mb-0 pb-0" style="width: 100%; border-radius: 10px 10px 0px 0px; position: relative; top: 1px; z-index: 2; opacity: 1 !important;">
                    <b>Total</b>
                </button>
            </span>
            <span class="col-2">
                <button id="stacked-chart-btn" class="disabled btn btn-secondary border-bottom-0 text-right mb-0 pb-0" style="width: 100%; border-radius: 10px 10px 0px 0px; position: relative; top: 1px; z-index: 2; opacity: 0.65;">
                    <b>ðŸš§ Stacked % ðŸš§</b>
                </button>
            </span>
                <!--Highcharts Container-->
                <div class="bg-light border border-success"
                    style="width:100%; border-radius: 0px 10px 10px 10px; z-index: 1; box-shadow: 0px 1px 10px 1px green;">
                    <!-- Net % Chart -->
                    <div id="netPercent-chart-box">
                        <div id="highchart-netPercent" class="bg-light"
                            style="width: 100%; border-radius: 0px 10px 10px 10px;">
                        </div>
                    </div>
                    <!-- Total % Chart -->
                    <div id="totalPercent-chart-box">
                        <div id="highchart-totalPercent" class="bg-light"
                            style="width: 100%; border-radius: 0px 10px 10px 10px;">
                        </div>
                    </div>
                    <!-- Net Chart -->
                    <div id="net-chart-box">
                        <div id="highchart-net" class="bg-light"
                            style="width: 100%; border-radius: 0px 10px 10px 10px;"></div>
                    </div>
                    <!-- Total Chart -->
                    <div id="total-chart-box">
                        <div id="highchart-total" class="bg-light"
                            style="width: 100%; border-radius: 0px 10px 10px 10px;"></div>
                    </div>
                    <!-- Chart Tips-->
                    <div class="row">
                        <div class="col-1"></div>
                        <div class="col">
                            <div class="text-secondary text-right">â„¹ <i>You can view charts with different information
                                    by clicking the
                                    green tabs near the top.</i></div>
                            <div class="text-secondary text-right">â„¹ <i>You can zoom in with the scroll wheel or by
                                    clicking and
                                    dragging.</i></div>
                            <div class="text-secondary text-right">â„¹ <i>While zoomed in, hold shift and then click and
                                    drag to
                                    pan.</i></div>
                            <div class="text-secondary text-right">â„¹ <i>Clicking on one of the outcomes in the chart
                                    legend will
                                    remove that outcome from the chart view.</i></div>
                        </div>
                        <div class="col-1"></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="section-box" id="tables-box">
            <!--Tables Collapser-->
            <div style="width:100%;">
                <button id="tables-btn" class="section-btn disabled">Tables</button>
            </div>
            <!--Tables-->
            <div id="tables" class="bg-dark text-light "
                style="width:100%; border-radius: 5px 5px 10px 10px; box-shadow: 0px 0px 5px 1px black">
                <!-- Results Table -->
                <div class="d-flex justify-content-center">
                    <table id="results-table" class="table table-striped table-bordered text-light bg-dark"
                        style="width: 90%;">
                        <thead>
                            <tr>
                                <th scope="col" style="width:20%"></th>
                                <th scope="col">
                                    <div class="d-flex justify-content-center">
                                        <img src="./images/success-light.png" class="img-fluid" alt="success icon"
                                            style="height:30%; width:30%;">
                                    </div>
                                    <div class="text-center">Success(es)</div>
                                </th>
                                <th scope="col">
                                    <div class="d-flex justify-content-center">
                                        <img src="./images/advantage-light.png" class="img-fluid" alt="success icon"
                                            style="height:30%; width:30%;">
                                    </div>
                                    <div class="text-center">Advantage(s)</div>
                                </th>
                                <th scope="col">
                                    <div class="d-flex justify-content-center">
                                        <img src="./images/triumph-light.png" class="img-fluid" alt="success icon"
                                            style="height:30%; width:30%;">
                                    </div>
                                    <div class="text-center">Triumph(s)</div>
                                </th>
                                <th scope="col">
                                    <div class="d-flex justify-content-center">
                                        <img src="./images/failure-light.png" class="img-fluid" alt="success icon"
                                            style="height:30%; width:30%;">
                                    </div>
                                    <div class="text-center">Failure(s)</div>
                                </th>
                                <th scope="col">
                                    <div class="d-flex justify-content-center">
                                        <img src="./images/threat-light.png" class="img-fluid" alt="success icon"
                                            style="height:30%; width:30%;">
                                    </div>
                                    <div class="text-center">Threat(s)</div>
                                </th>
                                <th scope="col">
                                    <div class="d-flex justify-content-center">
                                        <img src="./images/despair-light.png" class="img-fluid" alt="success icon"
                                            style="height:30%; width:30%;">
                                    </div>
                                    <div class="text-center">Despair(s)</div>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                            <tr class="text-center">
                                <th scope="row" data-toggle="tooltip" data-placement="top"
                                    title="The sum of the all symbols resulting from all rolls.">Total</th>
                                <td id="total-success">0</td>
                                <td id="total-advantage">0</td>
                                <td id="total-triumph">0</td>
                                <td id="total-failure">0</td>
                                <td id="total-threat">0</td>
                                <td id="total-despair">0</td>
                            </tr>
                            </tr>
                            <tr>
                            <tr class="text-center">
                                <th scope="row" data-toggle="tooltip" data-placement="top"
                                    title="The sum of the all symbols resulting from all rolls, adjusted for cross-cancelling.">
                                    Adjusted
                                    Total</th>
                                <td id="adjusted-total-success">0</td>
                                <td id="adjusted-total-advantage">0</td>
                                <td id="adjusted-total-triumph">0</td>
                                <td id="adjusted-total-failure">0</td>
                                <td id="adjusted-total-threat">0</td>
                                <td id="adjusted-total-despair">0</td>
                            </tr>
                            </tr>
                            <tr>
                            <tr class="text-center">
                                <th scope="row" data-toggle="tooltip" data-placement="top"
                                    title="The sum of the all symbols resulting from all rolls, divided by the number of rolls.">
                                    Average
                                </th>
                                <td id="average-success">0</td>
                                <td id="average-advantage">0</td>
                                <td id="average-triumph">0</td>
                                <td id="average-failure">0</td>
                                <td id="average-threat">0</td>
                                <td id="average-despair">0</td>
                            </tr>
                            </tr>
                            <tr>
                            <tr class="text-center">
                                <th scope="row" data-toggle="tooltip" data-placement="top"
                                    title="The sum of the all symbols resulting from all rolls, divided by the number of rolls, .">
                                    Adjusted Average</th>
                                <td id="adjusted-average-success">0</td>
                                <td id="adjusted-average-advantage">0</td>
                                <td id="adjusted-average-triumph">0</td>
                                <td id="adjusted-average-failure">0</td>
                                <td id="adjusted-average-threat">0</td>
                                <td id="adjusted-average-despair">0</td>
                            </tr>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

        </div>
    </div>
</body>
<footer>
    <div class="h6 text-center text-secondary">
        <i>Last Update: July 13th, 2023</i>
    </div>
</footer>
</html>